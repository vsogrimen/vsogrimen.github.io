"use strict";function Lightbox(){function t(){return window.innerHeight||document.documentElement.offsetHeight}function e(){return window.innerWidth||document.documentElement.offsetWidth}function n(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e){return t&&e?new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className):void 0}function i(t,e){return t&&e?(t.className=t.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"),""),t):void 0}function a(t,e){return t&&e?(o(t,e)||(t.className+=" "+e),t):void 0}function r(t){return"undefined"!=typeof t}function s(t,e){if(!t||!r(t))return!1;var n;return t.getAttribute?n=t.getAttribute(e):t.getAttributeNode&&(n=t.getAttributeNode(e).value),r(n)&&""!==n?n:!1}function l(t,e){if(!t||!r(t))return!1;var n;return t.getAttribute?n=t.getAttribute(e):t.getAttributeNode&&(n=t.getAttributeNode(e).value),"string"==typeof n}function p(t){n(t,"click",function(){W=s(t,"data-jslghtbx-group")||!1,M=t,v(t,!1,!1,!1)},!1)}function g(t){t.stopPropagation?t.stopPropagation():t.returnValue=!1}function c(t){for(var e=[],n=0;n<k.thumbnails.length;n++)s(k.thumbnails[n],"data-jslghtbx-group")===t&&e.push(k.thumbnails[n]);return e}function m(t,e){for(var n=c(e),o=0;o<n.length;o++)if(s(t,"src")===s(n[o],"src")&&s(t,"data-jslghtbx")===s(n[o],"data-jslghtbx"))return o}function d(){if(W){var t=new Image,e=new Image,n=m(M,W);n===L.length-1?(t.src=L[L.length-1].src,e.src=L[0].src):0===n?(t.src=L[L.length-1].src,e.src=L[1].src):(t.src=L[n-1].src,e.src=L[n+1].src)}}function u(){if(!H){f();var t=function(){if(a(k.box,"jslghtbx-loading"),!O&&"number"==typeof k.opt.loadingAnimation){var t=0;w=setInterval(function(){a(V[t],"jslghtbx-active"),setTimeout(function(){i(V[t],"jslghtbx-active")},k.opt.loadingAnimation),t=t>=V.length?0:t+=1},k.opt.loadingAnimation)}};A=setTimeout(t,500)}}function f(){if(!H&&(i(k.box,"jslghtbx-loading"),!O&&"string"!=typeof k.opt.loadingAnimation&&k.opt.loadingAnimation)){clearInterval(w);for(var t=0;t<V.length;t++)i(V[t],"jslghtbx-active")}}function h(){if(!P){if(P=document.createElement("span"),a(P,"jslghtbx-next"),k.opt.nextImg){var t=document.createElement("img");t.setAttribute("src",k.opt.nextImg),P.appendChild(t)}else a(P,"jslghtbx-no-img");n(P,"click",function(t){g(t),k.next()},!1),k.box.appendChild(P)}if(a(P,"jslghtbx-active"),!R){if(R=document.createElement("span"),a(R,"jslghtbx-prev"),k.opt.prevImg){var e=document.createElement("img");e.setAttribute("src",k.opt.prevImg),R.appendChild(e)}else a(R,"jslghtbx-no-img");n(R,"click",function(t){g(t),k.prev()},!1),k.box.appendChild(R)}a(R,"jslghtbx-active")}function b(){if(k.opt.responsive&&P&&R){var e=t()/2-P.offsetHeight/2;P.style.top=e+"px",R.style.top=e+"px"}}function x(t){function e(t){return"boolean"==typeof t?t:!0}if(t||(t={}),k.opt={boxId:t.boxId||!1,controls:e(t.controls),dimensions:e(t.dimensions),captions:e(t.captions),prevImg:"string"==typeof t.prevImg?t.prevImg:!1,nextImg:"string"==typeof t.nextImg?t.nextImg:!1,hideCloseBtn:t.hideCloseBtn||!1,closeOnClick:"boolean"==typeof t.closeOnClick?t.closeOnClick:!0,loadingAnimation:void 0===t.loadingAnimation?!0:t.loadingAnimation,animElCount:t.animElCount||4,preload:e(t.preload),carousel:e(t.carousel),animation:"number"==typeof t.animation||t.animation===!1?t.animation:400,nextOnClick:e(t.nextOnClick),responsive:e(t.responsive),maxImgSize:t.maxImgSize||.8,keyControls:e(t.keyControls),hideOverflow:t.hideOverflow||!0,onopen:t.onopen||!1,onclose:t.onclose||!1,onload:t.onload||!1,onresize:t.onresize||!1,onloaderror:t.onloaderror||!1},k.opt.boxId)k.box=document.getElementById(k.opt);else if(!k.box&&!document.getElementById("jslghtbx")){var o=document.createElement("div");o.setAttribute("id","jslghtbx"),o.setAttribute("class","jslghtbx"),k.box=o,T.appendChild(k.box)}if(k.box.innerHTML=z,H&&a(k.box,"jslghtbx-ie8"),k.wrapper=document.getElementById("jslghtbx-contentwrapper"),!k.opt.hideCloseBtn){var r=document.createElement("span");r.setAttribute("id","jslghtbx-close"),r.setAttribute("class","jslghtbx-close"),r.innerHTML="X",k.box.appendChild(r),n(r,"click",function(t){g(t),k.close()},!1)}if(!H&&k.opt.closeOnClick&&n(k.box,"click",function(){k.close()},!1),"string"==typeof k.opt.loadingAnimation)j=document.createElement("img"),j.setAttribute("src",k.opt.loadingAnimation),a(j,"jslghtbx-loading-animation"),k.box.appendChild(j);else if(k.opt.loadingAnimation){k.opt.loadingAnimation="number"==typeof k.opt.loadingAnimation?k.opt.loadingAnimation:200,j=document.createElement("div"),a(j,"jslghtbx-loading-animation");for(var s=0;s<k.opt.animElCount;)V.push(j.appendChild(document.createElement("span"))),s++;k.box.appendChild(j)}k.opt.responsive?(n(window,"resize",function(){k.resize()},!1),a(k.box,"jslghtbx-nooverflow")):i(k.box,"jslghtbx-nooverflow"),k.opt.keyControls&&n(document,"keydown",function(t){S&&(g(t),39===t.keyCode?k.next():37===t.keyCode?k.prev():27===t.keyCode&&k.close())},!1)}function v(t,e,i,l){if(!t&&!e)return!1;W=e||W||s(t,"data-jslghtbx-group"),W&&(L=c(W),"boolean"!=typeof t||t||(t=L[0])),B.img=new Image,M=t;var p;p="string"==typeof t?t:s(t,"data-jslghtbx")?s(t,"data-jslghtbx"):s(t,"src"),N=!1,S||("number"==typeof k.opt.animation&&a(B.img,"jslghtbx-animate-transition jslghtbx-animate-init"),S=!0,k.opt.onopen&&k.opt.onopen()),k.opt&&r(k.opt.hideOverflow)&&!k.opt.hideOverflow||T.setAttribute("style","overflow: hidden"),k.box.setAttribute("style","padding-top: 0"),k.wrapper.innerHTML="",k.wrapper.appendChild(B.img),k.opt.animation&&a(k.wrapper,"jslghtbx-animate");var m=s(t,"data-jslghtbx-caption");if(m&&k.opt.captions){var x=document.createElement("p");x.setAttribute("class","jslghtbx-caption"),x.innerHTML=m,k.wrapper.appendChild(x)}a(k.box,"jslghtbx-active"),H&&a(k.wrapper,"jslghtbx-active"),k.opt.controls&&L.length>1&&(h(),b()),B.img.onerror=function(){k.opt.onloaderror&&k.opt.onloaderror(l)},B.img.onload=function(){if(B.originalWidth=this.naturalWidth||this.width,B.originalHeight=this.naturalHeight||this.height,H||O){var t=new Image;t.setAttribute("src",p),B.originalWidth=t.width,B.originalHeight=t.height}var e=setInterval(function(){o(k.box,"jslghtbx-active")&&(a(k.wrapper,"jslghtbx-wrapper-active"),"number"==typeof k.opt.animation&&a(B.img,"jslghtbx-animate-transition"),i&&i(),f(),clearTimeout(A),k.opt.preload&&d(),k.opt.nextOnClick&&(a(B.img,"jslghtbx-next-on-click"),n(B.img,"click",function(t){g(t),k.next()},!1)),k.opt.onload&&k.opt.onload(l),clearInterval(e),k.resize())},10)},B.img.setAttribute("src",p),u()}var j,w,A,y,C,I,E,k=this,H=!1,O=!1,T=document.getElementsByTagName("body")[0],z='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',N=!1,W=!1,M=!1,B={},L=[],S=!1,V=[],P=!1,R=!1;k.opt={},k.box=!1,k.wrapper=!1,k.thumbnails=[],k.load=function(t){navigator.appVersion.indexOf("MSIE 8")>0&&(H=!0),navigator.appVersion.indexOf("MSIE 9")>0&&(O=!0),x(t);for(var e=document.getElementsByTagName("img"),n=0;n<e.length;n++)l(e[n],"data-jslghtbx")&&(k.thumbnails.push(e[n]),p(e[n]))},k.open=function(t,e){t&&e&&(e=!1),v(t,e,!1,!1)},k.resize=function(){if(B.img){y=e(),C=t();var n=k.box.offsetWidth,o=k.box.offsetHeight;!N&&B.img&&B.img.offsetWidth&&B.img.offsetHeight&&(N=B.img.offsetWidth/B.img.offsetHeight),Math.floor(n/N)>o?(I=o*N,E=o):(I=n,E=n/N),I=Math.floor(I*k.opt.maxImgSize),E=Math.floor(E*k.opt.maxImgSize),(k.opt.dimensions&&E>B.originalHeight||k.opt.dimensions&&I>B.originalWidth)&&(E=B.originalHeight,I=B.originalWidth),B.img.setAttribute("width",I),B.img.setAttribute("height",E),B.img.setAttribute("style","margin-top:"+(t()-E)/2+"px"),setTimeout(b,200),k.opt.onresize&&k.opt.onresize()}},k.next=function(){if(W){var t=m(M,W)+1;if(L[t])M=L[t];else{if(!k.opt.carousel)return;M=L[0]}"number"==typeof k.opt.animation?(i(B.img,"jslghtbx-animating-next"),setTimeout(function(){var t=function(){setTimeout(function(){a(B.img,"jslghtbx-animating-next")},k.opt.animation/2)};v(M,!1,t,"next")},k.opt.animation/2)):v(M,!1,!1,"next")}},k.prev=function(){if(W){var t=m(M,W)-1;if(L[t])M=L[t];else{if(!k.opt.carousel)return;M=L[L.length-1]}"number"==typeof k.opt.animation?(i(B.img,"jslghtbx-animating-prev"),setTimeout(function(){var t=function(){setTimeout(function(){a(B.img,"jslghtbx-animating-next")},k.opt.animation/2)};v(M,!1,t,"prev")},k.opt.animation/2)):v(M,!1,!1,"prev")}},k.close=function(){W=!1,M=!1,B={},L=[],S=!1,i(k.box,"jslghtbx-active"),i(k.wrapper,"jslghtbx-wrapper-active"),i(P,"jslghtbx-active"),i(R,"jslghtbx-active"),k.box.setAttribute("style","padding-top: 0px"),f(),H&&k.box.setAttribute("style","display: none"),k.opt&&r(k.opt.hideOverflow)&&!k.opt.hideOverflow||T.setAttribute("style","overflow: auto"),k.opt.onclose&&k.opt.onclose()}}